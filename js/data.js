const navBarContent = {
    "en": {
      "kontaktText":"Contact",
      "prednostText":"Our Benefits",
      "oNamaText":"About Us",
      "uslugeText":"Services",
      "projektiText":"Projects",
      "jezikText":"Jezik",
      "dobrodosliText":"Welcome!",
      "naslovGlavniText":"We create modern & functional digital solutions for your business",
      "glavnoDugmeText":"Go digital!"
    },
    "sr": {
      "kontaktText":"Kontakt",
      "prednostText":"Naše Prednosti",
      "oNamaText":"O Nama",
      "uslugeText":"Usluge",
      "projektiText":"Projekti",
      "jezikText":"Language",
      "dobrodosliText":"Dobrodošli!",
      "naslovGlavniText":"Kreiramo moderna & funkcionalna digitalna rešenja za Vaš biznis",
      "glavnoDugmeText":"Digitalizujte se!"
    }
  };
  
  const contactPageContent = {
    "en": {
      "DigizalitujteseText":"Go Digital Today!",
      "SpremniText":"We are ready to take your business to the next level. Contact us through one of the following channels:",
      "popUpOInfoText":"Contact Us for more information!"
      },
    "sr": {
      "DigizalitujteseText":"Digitalizujte se Danas!",
      "SpremniText":"Spremni smo da vaš biznis podignemo na viši nivo. Kontaktirajte nas putem jednog od sledećih kanala:",
      "popUpOInfoText":" Kontaktirajte Nas za Više Informacija!"
    }
  };
  
  const mainPageContent = {
    "en": {
      "NudimoText":"We offer comprehensive e-commerce solutions, including design and development, to help you sell your products online with ease.",
      "RazvijamoText":"We develop modern and functional Android and iOS applications that meet all the needs of your business and users.",
      "AplikacijeText":"Android and iOS Applications",
      "DizajnRazvojText":"Design and Development",
      "KreiramoText":"We create attractive and functional websites that adapt to your needs and reflect the uniqueness of your brand.",
      
      "ZaštoText":"Why Choose Us",
      "NajboljiText":"The Best Quality at the Best Price",
      "KvalitetText":"We offer uncompromising quality at affordable prices.",
      "RešenjaText":"Innovative Solutions",
      "KoristimoText":"We use the latest technologies to create modern and functional solutions tailored to your needs.",
      "PartnerText":"Reliable Partner",
      "NašTimText":"Our team is here for you every step of the way, providing support and ensuring long-term success.",
      "NašaPrednostText":"Our Advantage",
      
      "ONamaText2":"About Us",
      "DigitalnaText":"#1 Digital Solutions with Years of Experience",
      "MiSmoTimText":"We are a team of talented developers with a combined 10 years of experience in creating high-quality digital solutions. We have developed numerous successful websites for satisfied clients and are dedicated to providing top-notch services. With extensive knowledge in Software Engineering and Information Systems, we collaboratively create solutions that push the boundaries of your digital presence.",
      "AplikacijeText2":"Android and iOS Applications",
      "DizajnRazvojText2":"Design and Development",
      
      "zadovoljniText": "Satisfied Clients",
      "dostupnostText": "Availability to Clients",
      "usmerenostText": "Attention to Detail",
      "rokoviText": "Meeting Deadlines"

    },
    "sr": {
      "NudimoText":"Nudimo kompletna rešenja za e-commerce, uključujući dizajn i razvoj kako biste lako prodavali svoje proizvode online.",
      "RazvijamoText":"Razvijamo moderne i funkcionalne Android i iOS aplikacije koje zadovoljavaju sve potrebe vašeg poslovanja i korisnika.",
      "AplikacijeText":"Android i iOS Aplikacije",
      "DizajnRazvojText":"Dizajn i Razvoj",
      "KreiramoText":"Kreiramo atraktivne i funkcionalne web sajtove koji se prilagođavaju vašim potrebama i odražavaju jedinstvenost vašeg brenda.",
      
      "ZaštoText":"Zašto Izabrati Nas",
      "NajboljiText":"Najbolji Kvalitet po Najboljoj Ceni",
      "KvalitetText":"Nudimo kvalitet bez kompromisa, po pristupačnim cenama.",
      "RešenjaText":"Inovativna Rešenja",
      "KoristimoText":"Koristimo najnovije tehnologije da kreiramo moderna i funkcionalna rešenja prilagođena vašim potrebama.",
      "PartnerText":"Pouzdan Partner",
      "NašTimText":"Naš tim je tu za vas u svakom koraku, pružajući podršku i osiguravajući dugoročan uspeh.",
      "NašaPrednostText":"Naša Prednost",
      
      "ONamaText2":"O Nama",
      "DigitalnaText":"#1 Digitalna Rešenja sa Godinama Iskustva",
      "MiSmoTimText":"Mi smo tim talentovanih programera sa zajedničkim iskustvom od 10 godina u izradi kvalitetnih digitalnih rešenja. Kreirali smo mnoge uspešne sajtove za zadovoljne klijente i posvećeni smo pružanju vrhunskih usluga. Sa bogatim znanjem iz Softverskog Inženjerstva i Informacionih Sistema, zajedno stvaramo rešenja koja pomeraju granice vašeg digitalnog prisustva.",
      "AplikacijeText2":"Android i iOS Aplikacije",
      "DizajnRazvojText2":"Dizajn i Razvoj",
      
      "zadovoljniText":"Zadovoljni Klijenti",
      "dostupnostText":"Dostupnost Klijentima",
      "usmerenostText":"Usmerenost na Detalje",
      "rokoviText":"Poštovanje Rokova"
    }
  };

  const mainPageContent3 = {
    "en": {
      "NašeUslugeText":"Our Services",
      "RešenjaText2":"Our Solutions for You",
      "NudimoText2":"We offer complete e-commerce solutions, including design and development, to help you sell your products online with ease.",
      "WebDizajnText":"Web Design",
      "KreiramoText2":"We create attractive and functional websites that adapt to your needs and reflect the uniqueness of your brand.We create attractive and functional websites that adapt to your needs and reflect the uniqueness of your brand.",
      "AplikacijeText3":"Android and iOS Applications",
      "RazvijamoText2":"We develop modern and functional Android and iOS applications that meet all the needs of your business and users.",
      "GrafikaText":"Graphic Design",
      "ProfText":"Professional graphic design that elevates your brand to the next level.",
      "AkcideničniPText":"Designing Promotional Products",
      "UčiniteText":"Make every promotional material unforgettable with our design.",
      "MarketingText":"Social Media Marketing",
      "StrategijeText":"Creative strategies for success across all social media platforms.",

      "UspehText":"Success",
      "OblastiText":"Some of Our Areas of Expertise",
      
      "NašiProjektiText":"Our Projects",
      "NedavnoZavršeniText":"Recently Completed Projects",
      
      "RecenzijeText":"Reviews",
      "KlijentiKažuText":"What Our Clients Say",
      
      "NašTimText1":"Our Team",
      "ČlanoviText1":"Our Team Members",
       
    },
    "sr": {
      "NašeUslugeText":"Naše Usluge",
      "RešenjaText2":"Naša Rešenja za Vas",
      "NudimoText2":"Nudimo kompletna rešenja za e-commerce, uključujući dizajn i razvoj kako biste lako prodavali svoje proizvode online.",
      "WebDizajnText":"Web Dizajn",
      "KreiramoText2":"Kreiramo atraktivne i funkcionalne web sajtove koji se prilagođavaju vašim potrebama i odražavaju jedinstvenost vašeg brenda.",
      "AplikacijeText3":"Android i iOS Aplikacije",
      "RazvijamoText2":"Razvijamo moderne i funkcionalne Android i iOS aplikacije koje zadovoljavaju sve potrebe vašeg poslovanja i korisnika.",
      "GrafikaText":"Grafički Dizajn",
      "ProfText":"Profesionalni grafički dizajn koji podiže vaš brend na viši nivo.",
      "AkcideničniPText":"Dizajniranje Akcideničnih Proizvoda",
      "UčiniteText":"Učinite svaki promotivni materijal nezaboravnim uz naš dizajn.",
      "MarketingText":"Marketing na Društvenim Mrežama",
      "StrategijeText":"Kreativne strategije za uspeh na svim društvenim platformama.",
     
      "UspehText":"Uspeh",
      "OblastiText":"Neke od Naših Stručnih Oblasti",
     
      "NašiProjektiText":"Naši Projekti",
      "NedavnoZavršeniText":"Nedavno Završeni Projekti",
     
      "RecenzijeText":"Recenzije",
      "KlijentiKažuText":"Šta Naši Klijenti Kažu",
      
      "NašTimText1":"Naš Tim",
      "ČlanoviText1":"Naši Članovi Tima",
    }
  };

  function switchLang(lang) {
    const combinedContent = {
      ...navBarContent[lang],
      ...contactPageContent[lang],
      ...mainPageContent[lang],
      ...mainPageContent3[lang]
    };
    
    for (let key in combinedContent) {
      let element = document.getElementById(key);
      if (element) {
        element.innerHTML = combinedContent[key];
      }
    }


    localStorage.setItem('selectedLanguage', lang);

    // Dispatch the language change event only once, ensuring that it's handled immediately
    if (!document.switchingLanguage) {
        document.switchingLanguage = true;
        const languageChangedEvent = new Event('languageChanged');
        document.dispatchEvent(languageChangedEvent);
        document.switchingLanguage = false;
    }


    // // Only dispatch event if not already handling the event
    // if (!document.switchingLanguage) {
    //   document.switchingLanguage = true;
    //   const languageChangedEvent = new Event('languageChanged');
    //   document.dispatchEvent(languageChangedEvent);
    //   document.switchingLanguage = false;
    // }

    // Emituj događaj promene jezika
    // const languageChangedEvent = new Event('languageChanged');
    // document.dispatchEvent(languageChangedEvent);


    // localStorage.setItem('selectedLanguage', lang);
  }
  
  window.onload = function() {
    let selectedLanguage = localStorage.getItem('selectedLanguage');
    // if (selectedLanguage) {
    //   switchLang(selectedLanguage);
    // }
    if (selectedLanguage) {
      switchLang(selectedLanguage);
    } else {
      switchLang('sr');  // Set Serbian as the default language if none is selected
    }
  };
  
  